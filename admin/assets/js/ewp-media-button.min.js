/*! endomondowp - v0.1.1 - 2017-03-04
* https://github.com/Odyno/endomondowp/#readme
* Copyright (c) 2017 ; Licensed  */
(function(){jQuery.noConflict(),function(a){var b,c;return b=function(){function b(b,c){this.dialog=a(".ewp_dialog"),this.dialog.dialog({autoOpen:!1,width:500,height:500,close:function(a){return function(b,c){return a.validate()}}(this)}),this.view_type=a(ewp_type),this.eui=a(ewp_in_eui),this.euwi=a(ewp_in_euwi),this.ci=a(ewp_in_ci),this.ti=a(ewp_in_ti),this.ei=a(ewp_in_ei),this.iw=a(ewp_in_with),this.ih=a(ewp_in_height),this.btm=a(ewp_btm_apply),this.img=a(ewp_img_preview),this.codesection=a(ewp_preview_shortcode_box),this.basehost=null!=b?b:"http://vagrant.local/content/plugins/endomondowp",this.shortcode="",a(".ewp_section_body").hide(),a(".ewp_section_control").click(function(b){return function(){return a(".ewp_section_body").show()}}(this)),this.view_type.change(function(a){return function(){return a.validate()}}(this)),this.eui.change(function(a){return function(b){return a.validate()}}(this)),this.euwi.change(function(a){return function(b){return a.validate()}}(this)),this.ci.change(function(a){return function(b){return a.validate()}}(this)),this.ti.change(function(a){return function(b){return a.validate()}}(this)),this.ei.change(function(a){return function(b){return a.validate()}}(this)),this.iw.change(function(a){return function(b){return a.validate()}}(this)),this.ih.change(function(a){return function(b){return a.validate()}}(this)),this.btm.on("click",function(a){return function(){return a.validate(),null!=a.shortcode&&"function"==typeof c&&c(a.shortcode),a.close()}}(this))}return b.prototype._resetView=function(){return this.eui.hide(),this.euwi.hide(),this.ci.hide(),this.ti.hide(),this.ei.hide(),this.btm.hide(),this.img.attr("src")!==this.basehost+"/images/logo.png"&&this.img.attr("src",this.basehost+"/images/logo.png"),this.img.show(),this.view_type.val("last-workout")},b.prototype._lastWorkout=function(){this.eui.show(),this.euwi.hide(),this.ei.hide(),this.ci.hide(),this.ti.hide(),this.img.attr("src")!==this.basehost+"/images/last-workout_p.png"&&this.img.attr("src",this.basehost+"/images/last-workout_p.png"),this.img.show()},b.prototype._oneWorkout=function(){this.eui.hide(),this.euwi.show(),this.ei.hide(),this.ci.hide(),this.ti.hide(),this.img.attr("src")!==this.basehost+"/images/last-workout_p.png"&&this.img.attr("src",this.basehost+"/images/last-workout_p.png"),this.img.show()},b.prototype._workoutList=function(){this.eui.show(),this.euwi.hide(),this.ei.hide(),this.ci.hide(),this.ti.hide(),this.img.attr("src")!==this.basehost+"/images/workout-list_p.png"&&this.img.attr("src",this.basehost+"/images/workout-list_p.png"),this.img.show()},b.prototype._challenge=function(){this.euwi.hide(),this.eui.show(),this.ei.hide(),this.ci.show(),this.ti.hide(),this.img.show(),this.img.attr("src")!==this.basehost+"/images/challenge_p.png"&&this.img.attr("src",this.basehost+"/images/challenge_p.png")},b.prototype._team=function(){this.euwi.hide(),this.eui.hide(),this.ei.hide(),this.ci.hide(),this.ti.show(),this.img.show(),this.img.attr("src")!==this.basehost+"/images/team_p.png"&&this.img.attr("src",this.basehost+"/images/team_p.png")},b.prototype._event=function(){if(this.euwi.hide(),this.eui.hide(),this.ei.show(),this.ci.hide(),this.ti.hide(),this.img.show(),this.img.attr("src")!==this.basehost+"/images/event_p.png")return this.img.attr("src",this.basehost+"/images/event_p.png")},b.prototype.open=function(){return this.validate(),this.dialog.dialog("open")},b.prototype.close=function(){return this._resetView(),this.dialog.dialog("close")},b.prototype.validate=function(){var a,b,c,d,e,f;switch(d=this.eui.val(),e=this.euwi.val(),c=this.ei.val(),b=this.ci.val(),f=this.ti.val(),a="",this.iw.val()&&(a=' width="'+this.iw.val()+'"'),this.ih.val()&&(a+=' height="'+this.ih.val()+'"'),this.shortcode=null,this.view_type.val()){case"last-workout":this._lastWorkout(),""!==d&&(this.shortcode="[endomondowp type='last-workout' user='"+d+"' "+a+" ]");break;case"workout":this._oneWorkout(),""!==e&&(this.shortcode="[endomondowp type='workout' workout_id='"+e+"' "+a+" ]");break;case"workout-list":this._workoutList(),""!==d&&(this.shortcode="[endomondowp type='workout-list' user='"+d+"' "+a+" ]");break;case"challenge":this._challenge(),""!==d&&""!==b&&(this.shortcode="[endomondowp type='challenge' user='"+d+"' challenge_id='"+b+"' "+a+" ]");break;case"team":this._team(),""!==f&&(this.shortcode="[endomondowp type='team' team_id='"+f+"' "+a+" ]");break;case"event":this._event(),""!==c&&(this.shortcode="[endomondowp type='event' event_id='"+c+"' "+a+" ]");break;default:this._resetView(),this.shortcode=null}return this.codesection.html(this.shortcode),null!=this.shortcode?this.btm.show():this.btm.hide()},b}(),c=new b(EWP_DATA.ewpurl,function(a){tinyMCE.execCommand("mceInsertContent",!1,a)}),a(".ewp_fast_tag").on("click",function(){return c.open()})}(jQuery)}).call(this);